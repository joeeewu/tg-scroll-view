"use strict";(self.webpackChunktg_scroll_view=self.webpackChunktg_scroll_view||[]).push([[904],{31385:function(P,t,e){var _;e.r(t),e.d(t,{demos:function(){return R}});var u=e(90228),i=e.n(u),M=e(87999),p=e.n(M),s=e(75271),h=e(21372),d=e(82187),D=e.n(d),I=e(15032),T=e(15505),E=e(78808),C=e(40493),O=e(40043),m=e(51667),n=e(94095),r=e(24821),o=e(60408),l=e(68665),c=e(72885),v=e(7138),R={"docs-demo-demo-1-demo-basic":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,14010))})),asset:{type:"BLOCK",id:"docs-demo-demo-1-demo-basic",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(30773).Z},react:{type:"NPM",value:"18.3.1"},classnames:{type:"NPM",value:"2.5.1"},"./basic.less":{type:"FILE",value:e(34260).Z},"../src/components/scroll-view.tsx":{type:"FILE",value:e(86997).Z},ahooks:{type:"NPM",value:"3.8.4"},"rc-resize-observer":{type:"NPM",value:"1.4.3"},"tg-scroll-view":{type:"NPM",value:"0.0.1"},"./index.less":{type:"FILE",value:e(45365).Z},"../virtual-list.tsx":{type:"FILE",value:e(67092).Z}},entry:"index.tsx"},context:{"./basic.less":I,"../src/components/scroll-view.tsx":T,"./index.less":c,"../virtual-list.tsx":v,react:_||(_=e.t(s,2)),classnames:d,"/Users/joewu/Projects/tg-scroll-view/examples/basic.less":I,"/Users/joewu/Projects/tg-scroll-view/src/components/scroll-view/index.tsx":T,ahooks:E,"rc-resize-observer":C,"tg-scroll-view/utils/with-default-props":O,"tg-scroll-view/utils/scroller":m,"tg-scroll-view/utils/render":n,"tg-scroll-view/utils":r,"tg-scroll-view/hooks/use-heights":o,"tg-scroll-view/hooks/use-children":l,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.less":c,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.tsx":v},renderOpts:{compile:function(){var f=p()(i()().mark(function w(){var y,U=arguments;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,e.e(624).then(e.bind(e,53624));case 2:return S.abrupt("return",(y=S.sent).default.apply(y,U));case 3:case"end":return S.stop()}},w)}));function x(){return f.apply(this,arguments)}return x}()}}}},25325:function(P,t,e){var _;e.r(t),e.d(t,{demos:function(){return U}});var u=e(90228),i=e.n(u),M=e(87999),p=e.n(M),s=e(75271),h=e(94329),d=e(82187),D=e.n(d),I=e(14554),T=e(92519),E=e(45965),C=e(15505),O=e(21386),m=e(29046),n=e(40043),r=e(35196),o=e(72885),l=e(78808),c=e(40493),v=e(51667),R=e(94095),f=e(24821),x=e(60408),w=e(68665),y=e(7138),U={"docs-demo-demo-2-demo-reset-more":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,79587))})),asset:{type:"BLOCK",id:"docs-demo-demo-2-demo-reset-more",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(43980).Z},react:{type:"NPM",value:"18.3.1"},classnames:{type:"NPM",value:"2.5.1"},"../src.ts":{type:"FILE",value:e(56178).Z},"./reset-more.less":{type:"FILE",value:e(9611).Z},"./components/more.tsx":{type:"FILE",value:e(14758).Z},"./components/scroll-view.tsx":{type:"FILE",value:e(86997).Z},"./utils/attach-properties-to-component.ts":{type:"FILE",value:e(83795).Z},"./components/refresh.tsx":{type:"FILE",value:e(32984).Z},"tg-scroll-view":{type:"NPM",value:"0.0.1"},"./index.less":{type:"FILE",value:e(45365).Z},ahooks:{type:"NPM",value:"3.8.4"},"rc-resize-observer":{type:"NPM",value:"1.4.3"},"../virtual-list.tsx":{type:"FILE",value:e(67092).Z}},entry:"index.tsx"},context:{"../src.ts":I,"./reset-more.less":T,"./components/more.tsx":E,"./components/scroll-view.tsx":C,"./utils/attach-properties-to-component.ts":O,"./components/refresh.tsx":m,"./index.less":o,"../virtual-list.tsx":y,react:_||(_=e.t(s,2)),classnames:d,"/Users/joewu/Projects/tg-scroll-view/src/index.ts":I,"/Users/joewu/Projects/tg-scroll-view/examples/reset-more.less":T,"/Users/joewu/Projects/tg-scroll-view/src/components/more/index.tsx":E,"/Users/joewu/Projects/tg-scroll-view/src/components/scroll-view/index.tsx":C,"/Users/joewu/Projects/tg-scroll-view/src/utils/attach-properties-to-component.ts":O,"/Users/joewu/Projects/tg-scroll-view/src/components/refresh/index.tsx":m,"tg-scroll-view/utils/with-default-props":n,"tg-scroll-view/components/activity-indicator/roller":r,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.less":o,ahooks:l,"rc-resize-observer":c,"tg-scroll-view/utils/scroller":v,"tg-scroll-view/utils/render":R,"tg-scroll-view/utils":f,"tg-scroll-view/hooks/use-heights":x,"tg-scroll-view/hooks/use-children":w,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.tsx":y},renderOpts:{compile:function(){var H=p()(i()().mark(function j(){var W,A=arguments;return i()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,e.e(624).then(e.bind(e,53624));case 2:return Y.abrupt("return",(W=Y.sent).default.apply(W,A));case 3:case"end":return Y.stop()}},j)}));function S(){return H.apply(this,arguments)}return S}()}}}},67976:function(P,t,e){var _;e.r(t),e.d(t,{demos:function(){return R}});var u=e(90228),i=e.n(u),M=e(87999),p=e.n(M),s=e(75271),h=e(60504),d=e(82187),D=e.n(d),I=e(33751),T=e(15505),E=e(78808),C=e(40493),O=e(40043),m=e(51667),n=e(94095),r=e(24821),o=e(60408),l=e(68665),c=e(7138),v=e(72885),R={"docs-demo-demo-3-demo-virtual":{component:s.memo(s.lazy(function(){return e.e(433).then(e.bind(e,70305))})),asset:{type:"BLOCK",id:"docs-demo-demo-3-demo-virtual",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(6198).Z},react:{type:"NPM",value:"18.3.1"},classnames:{type:"NPM",value:"2.5.1"},"./virtual.less":{type:"FILE",value:e(97864).Z},"../src/components/scroll-view.tsx":{type:"FILE",value:e(86997).Z},ahooks:{type:"NPM",value:"3.8.4"},"rc-resize-observer":{type:"NPM",value:"1.4.3"},"tg-scroll-view":{type:"NPM",value:"0.0.1"},"../virtual-list.tsx":{type:"FILE",value:e(67092).Z},"./index.less":{type:"FILE",value:e(45365).Z}},entry:"index.tsx"},context:{"./virtual.less":I,"../src/components/scroll-view.tsx":T,"../virtual-list.tsx":c,"./index.less":v,react:_||(_=e.t(s,2)),classnames:d,"/Users/joewu/Projects/tg-scroll-view/examples/virtual.less":I,"/Users/joewu/Projects/tg-scroll-view/src/components/scroll-view/index.tsx":T,ahooks:E,"rc-resize-observer":C,"tg-scroll-view/utils/with-default-props":O,"tg-scroll-view/utils/scroller":m,"tg-scroll-view/utils/render":n,"tg-scroll-view/utils":r,"tg-scroll-view/hooks/use-heights":o,"tg-scroll-view/hooks/use-children":l,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.tsx":c,"/Users/joewu/Projects/tg-scroll-view/src/components/virtual-list/index.less":v},renderOpts:{compile:function(){var f=p()(i()().mark(function w(){var y,U=arguments;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,e.e(624).then(e.bind(e,53624));case 2:return S.abrupt("return",(y=S.sent).default.apply(y,U));case 3:case"end":return S.stop()}},w)}));function x(){return f.apply(this,arguments)}return x}()}}}},23035:function(P,t,e){e.r(t),e.d(t,{demos:function(){return i}});var _=e(75271),u=e(83402),i={}},80879:function(P,t,e){e.r(t),e.d(t,{demos:function(){return i}});var _=e(75271),u=e(43438),i={}},35196:function(P,t,e){e.r(t),e.d(t,{default:function(){return s}});var _=e(75271),u=e(40043),i=e(52676),M={size:70,color:"#7C4DFF",borderColor:"rgba(0, 0, 0, .1)",fill:"transparent",linecap:"round",rotate:0};function p(h){var d=(0,u.mergeProps)(M,h),D=d.size,I=d.width,T=d.color,E=d.borderColor,C=d.fill,O=d.linecap,m=d.rotate,n=d.children,r=d.process,o=I||D/12,l=D+2*o,c=2,v=D/2,R=r===void 0,f=D*3.1415,x="".concat(Number(r)*f," ").concat((1-Number(r))*f);return(0,i.jsx)("div",{className:"tg-activity-indicator-rolling",children:(0,i.jsxs)("div",{className:"rolling-container",children:[(0,i.jsxs)("svg",{viewBox:"0 0 ".concat(l," ").concat(l),style:{width:"".concat(D,"px"),height:"".concat(D,"px"),transform:"rotateZ(".concat(m,"deg)")},preserveAspectRatio:"xMidYMid",className:"tg-activity-indicator-svg rolling",children:[(0,i.jsx)("circle",{fill:"none",stroke:E,strokeWidth:o,cx:l/2,cy:l/2,r:v}),(0,i.jsx)("g",{className:"circle",children:R||r>0?(0,i.jsxs)("circle",{className:"stroke",cx:l/2,cy:l/2,fill:C,stroke:T,strokeWidth:o,strokeDasharray:R?"".concat(110*f/125):x,strokeLinecap:O,r:v,children:[R?(0,i.jsx)("animate",{attributeName:"stroke-dashoffset",values:"".concat(360*f/125,";").concat(140*f/125),dur:"2.2s",keyTimes:"0;1",calcMode:"spline",fill:"freeze",keySplines:"0.41,0.314,0.8,0.54",repeatCount:"indefinite",begin:"0"}):null,R?(0,i.jsx)("animateTransform",{dur:"".concat(c,"s"),values:"0 ".concat(l/2," ").concat(l/2,";360 ").concat(l/2," ").concat(l/2),attributeName:"transform",type:"rotate",calcMode:"linear",keyTimes:"0;1",begin:"0",repeatCount:"indefinite"}):null]}):null})]}),(0,i.jsx)("div",{className:"content",children:n})]})})}var s=p},45965:function(P,t,e){e.r(t),e.d(t,{default:function(){return s}});var _=e(75271),u=e(40043),i=e(52676),M={loadingText:"\u66F4\u591A\u52A0\u8F7D\u4E2D...",finishedText:"\u5168\u90E8\u5DF2\u52A0\u8F7D",isFinished:!1};function p(h){var d=(0,u.mergeProps)(M,h),D=d.isFinished,I=d.loadingText,T=d.finishedText;return(0,i.jsx)("div",{className:"tg-scroll-view-more",children:D?T:I})}var s=p},29046:function(P,t,e){e.r(t),e.d(t,{default:function(){return h}});var _=e(75271),u=e(40043),i=e(35196),M=e(52676),p={scrollTop:0,isRefreshing:!1,isRefreshActive:!1,refreshText:"\u4E0B\u62C9\u5237\u65B0",refreshActiveText:"\u91CA\u653E\u5237\u65B0",refreshingText:"\u5237\u65B0\u4E2D...",rollerColor:"#7C4DFF"};function s(d){var D=(0,_.useRef)(null),I=(0,u.mergeProps)(p,d),T=I.scrollTop,E=I.isRefreshing,C=I.isRefreshActive,O=I.refreshText,m=I.refreshActiveText,n=I.refreshingText,r=I.rollerColor,o=(0,_.useMemo)(function(){var c=D.current;if(!c||!T)return+T;var v=c.clientHeight;return Math.abs(T)<v/2?0:(Math.abs(T)-v/2)/(v/2)},[T]),l=(0,_.useMemo)(function(){return E?n:C?m:O},[E,n,C,m,O]);return(0,M.jsxs)("div",{className:"tg-scroll-view-refresh",ref:D,children:[(0,M.jsx)(i.default,{process:E?void 0:o,width:10,color:r}),(0,M.jsx)("div",{className:"tg-scroll-view-refresh-tip",children:l})]})}var h=s},15505:function(P,t,e){e.r(t),e.d(t,{default:function(){return l}});var _=e(48305),u=e.n(_),i=e(75271),M=e(82187),p=e.n(M),s=e(72170),h=e(21384),d=e(40493),D=e(40043),I=e(51667),T=e(94095),E=e(24821),C=e(60408),O=e(68665),m=e(7138),n=e(52676),r={scrollingX:!0,scrollingY:!0,bouncing:!0,autoReflow:!1,manualInit:!1,endReachedThreshold:0,immediateCheckEndReaching:!1,touchAngle:45,isPrevent:!0,virtual:!0,onEndReached:function(){}};function o(c,v){var R=(0,i.useState)(0),f=u()(R,2),x=f[0],w=f[1],y=(0,i.useState)(0),U=u()(y,2),H=U[0],S=U[1],j=(0,i.useState)(!1),W=u()(j,2),A=W[0],B=W[1],Y=(0,i.useState)(!1),N=u()(Y,2),J=N[0],ne=N[1],Q=(0,i.useState)(!1),G=u()(Q,2),te=G[0],k=G[1],re=(0,i.useState)(!1),Ae=u()(re,2),_e=Ae[0],Ce=Ae[1],ae=(0,i.useRef)(null),je=(0,i.useRef)(null),rn=(0,i.useRef)(null),on=(0,i.useRef)(null),X=(0,i.useRef)(null),Ue=(0,i.useRef)(0),Ie=(0,i.useRef)(!1),se=(0,i.useRef)(!1),Re=(0,i.useRef)(0),xe=(0,i.useRef)(0),ce=(0,i.useRef)(0),ue=(0,i.useRef)(0),He=(0,i.useRef)(0),be=(0,i.useRef)(0),We=(0,i.useRef)(0),Ke=(0,i.useRef)(0),ze=(0,i.useRef)(null),Be=(0,i.useRef)(null),Ye=(0,i.useRef)(0),z=(0,D.mergeProps)(r,c),ie=z.scrollingX,de=z.scrollingY,sn=z.bouncing,ln=z.manualInit,an=z.endReachedThreshold,Te=z.autoReflow,cn=z.immediateCheckEndReaching,un=z.isPrevent,Ve=z.touchAngle,dn=z.className,fn=z.children,Fe=z.renderHeader,Xe=z.renderFooter,Ee=z.renderRefresh,Ne=z.renderMore,Me=z.onScroll,De=z.onRefreshActive,Pe=z.onRefreshing,hn=z.onEndReached,vn=z.virtual,fe=z.itemHeight,Se=z.data,he=z.itemKey,we=(0,s.Z)(hn),Ze=function(){var a=ce.current-Re.current,g=ue.current-xe.current,b=Math.atan2(Math.abs(g),Math.abs(a))*180/Math.PI;return ie?90-b:b},mn=function(a){var g=X.current;g&&(Re.current=a.targetTouches[0].pageX,xe.current=a.targetTouches[0].pageY,g.doTouchStart(a.touches,a.timeStamp))},$e=function(a){var g=X.current;if(g){var b=!1;if(un&&(a.preventDefault(),b=!0),ce.current=a.targetTouches[0].pageX,ue.current=a.targetTouches[0].pageY,!ie||!de){var K=Ze();if(K<Ve)return}!b&&a.cancelable&&a.preventDefault(),g.doTouchMove(a.touches,a.timeStamp,a.scale);var V=15,F=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,Z=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,$=ce.current-F,ee=ue.current-Z;($>document.documentElement.clientWidth-V||ee>document.documentElement.clientHeight-V||$<V||ee<V)&&g.doTouchEnd(a.timeStamp)}},Ge=function(a){var g=X.current;g&&g.doTouchEnd(a.timeStamp)},gn=function(a){var g=X.current;g&&(Re.current=a.pageX,xe.current=a.pageY,g.doTouchStart([{pageX:a.pageX,pageY:a.pageY}],a.timeStamp),se.current=!0)},pn=function(a){var g=X.current,b=se.current;if(!(!g||!b)){if(ce.current=a.pageX,ue.current=a.pageY,!ie||!de){var K=Ze();if(K<Ve)return}g.doTouchMove([{pageX:a.pageX,pageY:a.pageY}],a.timeStamp),se.current=!0}},Je=function(a){var g=X.current,b=se.current;!g||!b||(g.doTouchEnd(a.timeStamp),se.current=!1)},ye=function(){var a=ze.current;a&&clearInterval(a)},Qe=function(){var a=X.current;if(a){var g=a._clientHeight,b=a._contentHeight,K=a._scrollTop,V=Ye.current,F=an,Z=b-g-(K+V+F),$=Be.current;K>=0&&!_e&&Z<=0&&$&&(k(!0),$())}},_n=function(a,g){a=+a.toFixed(2),g=+g.toFixed(2),!(x===a&&H===g)&&(w(a),S(g),Qe(),Me==null||Me({scrollLeft:a,scrollTop:g}))},le=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,g=ae.current,b=je.current,K=X.current;!K||!g||!b||(0,E.nextTick)(function(){var V=g.clientWidth,F=g.clientHeight,Z=b.offsetWidth,$=b.offsetHeight;(a||He.current!==V||be.current!==F||We.current!==Z||Ke.current!==$)&&(K.setDimensions(g.clientWidth,g.clientHeight,b.offsetWidth,b.offsetHeight),He.current=V,be.current=F,We.current=Z,Ke.current=$)})},ke=function(){ye(),ze.current=setInterval(function(){le()},100)},qe=function(){var a=Ie.current;if(!a){var g=ae.current,b=g.querySelector(".scroll-view-content"),K=g.querySelector(".scroll-view-refresh"),V=g.querySelector(".scroll-view-more");je.current=b,rn.current=K,on.current=V,Ue.current=K?K.clientHeight:0,Ye.current=V?V.clientHeight:0;var F=g.getBoundingClientRect(),Z=new I.default(function(ee,oe){(0,T.render)(b,ee,oe),Ie.current&&_n(ee,oe)},{scrollingX:ie,scrollingY:de,bouncing:sn,zooming:!1,animationDuration:200,speedMultiplier:1.2,inRequestAnimationFrame:!0});if(Z.setPosition(F.left+g.clientLeft,F.top+g.clientTop),typeof Ee=="function"){var $=Ue.current;Z.activatePullToRefresh($,function(){ne(!0),B(!1),De==null||De()},function(){ne(!1),B(!1)},function(){ne(!1),B(!0),Pe==null||Pe()})}X.current=Z,le(!0),Te&&ke(),Be.current=(0,E.debounce)(function(){Ce(!0),we==null||we()},50),setTimeout(function(){Ie.current=!0},50),cn&&(0,E.nextTick)(Qe)}},In=function(){(0,E.nextTick)(function(){qe()})},Rn=function(a,g){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,K=X.current;K&&K.scrollTo(a,g,b)},xn=function(){var a=X.current;return a?a.getValues():{left:0,top:0}},Tn=function(){var a=X.current;a&&a.triggerPullToRefresh()},En=function(){var a=X.current;a&&(a.finishPullToRefresh(),le())},Mn=function(){var a=X.current;a&&(k(!1),Ce(!1),le())};(0,i.useImperativeHandle)(v,function(){return{init:In,reflowScroller:le,scrollTo:Rn,getOffsets:xn,triggerRefresh:Tn,finishRefresh:En,finishLoadMore:Mn}}),(0,h.Z)(function(){Te?ke():ye()},[Te]),(0,i.useEffect)(function(){return ln||qe(),function(){ye()}},[]),(0,i.useEffect)(function(){var L=ae.current;return L.addEventListener("touchmove",$e,{passive:!1}),function(){L.removeEventListener("touchmove",$e)}},[]);var Oe=(0,i.useCallback)(function(L){return typeof he=="function"?he(L):L==null?void 0:L[String(he)]},[he]),Dn={getKey:Oe},Pn=(0,i.useState)({width:0,height:0}),en=u()(Pn,2),Sn=en[0],wn=en[1],q=Se||[],ve=Sn.height,yn=(0,C.default)(Oe),me=u()(yn,4),On=me[0],Ln=me[1],ge=me[2],An=me[3],Cn=function(a){wn({width:a.offsetWidth,height:a.offsetHeight})},nn=(0,i.useRef)(null),jn=(0,i.useMemo)(function(){return Object.values(ge.maps).reduce(function(L,a){return L+a},0)},[ge.id,ge.maps]),Le=!!(vn&&fe),tn=Le&&Se&&Math.max(fe*Se.length,jn)>ve,pe=i.useMemo(function(){if(!Le)return{scrollHeight:0,start:0,end:q.length-1,offset:void 0};if(!tn){var L;return{scrollHeight:((L=nn.current)===null||L===void 0?void 0:L.offsetHeight)||0,start:0,end:q.length-1,offset:void 0}}for(var a=0,g=null,b,K=null,V=q.length,F=0;F<V;F+=1){var Z=q[F],$=Oe(Z),ee=ge.get($),oe=a+(ee===void 0?fe:ee);oe>=H&&g===null&&(g=F,b=a),oe>H+ve&&K===null&&(K=F),a=oe}return g===null&&(g=0,b=0,K=Math.ceil(ve/fe)),K===null&&(K=q.length-1),K=Math.min(K+1,q.length-1),{scrollHeight:a,start:g,end:K,offset:b}},[tn,Le,H,q,An,ve]),Un=pe.scrollHeight,Hn=pe.start,bn=pe.end,Wn=pe.offset,Kn=(0,O.default)(q,Hn,bn,x,On,fn,Dn);return(0,n.jsx)(d.default,{onResize:Cn,children:(0,n.jsxs)("div",{className:p()("tg-scroll-view",dn),ref:ae,onTouchStart:mn,onTouchEnd:Ge,onTouchCancel:Ge,onMouseDown:gn,onMouseMove:pn,onMouseUp:Je,onMouseLeave:Je,children:[typeof Fe=="function"?(0,n.jsx)("div",{className:"scroll-view-header",children:Fe()}):null,(0,n.jsxs)("div",{className:p()("scroll-view-content",{horizon:ie&&!de}),children:[typeof Ee=="function"?(0,n.jsx)("div",{className:p()("scroll-view-refresh",{refreshing:A,"refresh-active":J}),children:Ee({scrollTop:H,isRefreshing:A,isRefreshActive:J})}):null,(0,n.jsx)(m.default,{ref:nn,height:Un,onInnerResize:Ln,offsetY:Wn,children:Kn}),typeof Ne=="function"?(0,n.jsx)("div",{className:p()("scroll-view-more",{active:te||_e}),children:Ne({isEndReaching:te||_e})}):null]}),typeof Xe=="function"?(0,n.jsx)("div",{className:"scroll-view-footer",children:Xe()}):null]})})}var l=(0,i.forwardRef)(o)},7138:function(P,t,e){e.r(t);var _=e(26068),u=e.n(_),i=e(75271),M=e(40493),p=e(72885),s=e(52676);function h(d,D){var I=d.onInnerResize,T=d.offsetY,E=d.children,C=d.height,O={},m={};T!==void 0&&(O={height:C,position:"relative",overflow:"hidden"},m=u()(u()({},m),{},{transform:"translateY(".concat(T,"px)"),position:"absolute",left:0,right:0,top:0}));var n=function(o){var l=o.offsetHeight;l&&I&&I()};return(0,s.jsx)("div",{className:"tg-virtual-list-outer",style:O,children:(0,s.jsx)(M.default,{onResize:n,children:(0,s.jsx)("div",{ref:D,className:"tg-virtual-list-inner",style:m,children:E})})})}t.default=(0,i.forwardRef)(h)},68665:function(P,t,e){e.r(t),e.d(t,{default:function(){return M}});var _=e(75271);function u(p){var s=p.children,h=p.setRef,d=(0,_.useCallback)(function(D){h(D)},[]);return(0,_.cloneElement)(s,{ref:d})}var i=e(52676);function M(p,s,h,d,D,I,T){var E=T.getKey;return p.slice(s,h+1).map(function(C,O){var m=s+O,n=I(C,m,{offsetX:d,style:{}}),r=E(C);return(0,i.jsx)(u,{setRef:function(l){return D(C,l)},children:n},r)})}},60408:function(P,t,e){e.r(t),e.d(t,{default:function(){return m}});var _=e(48305),u=e.n(_),i=e(75271),M=e(19931),p=e(81290),s=e(25298),h=e.n(s),d=e(17069),D=e.n(d),I=e(82092),T=e.n(I),E=function(){function n(){h()(this,n),T()(this,"maps",void 0),T()(this,"id",0),this.maps=Object.create(null)}return D()(n,[{key:"set",value:function(o,l){this.maps[o]=l,this.id+=1}},{key:"get",value:function(o){return this.maps[o]}}]),n}(),C=E;function O(n){var r=parseFloat(n);return isNaN(r)?0:r}function m(n,r,o){var l=(0,i.useState)(0),c=u()(l,2),v=c[0],R=c[1],f=(0,i.useRef)(new Map),x=(0,i.useRef)(new C),w=(0,i.useRef)();function y(){w.current&&p.Z.cancel(w.current)}function U(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;y();var j=function(){f.current.forEach(function(A,B){if(A&&A.offsetParent){var Y=(0,M.ZP)(A),N=Y.offsetHeight,J=getComputedStyle(Y),ne=J.marginTop,Q=J.marginBottom,G=O(ne),te=O(Q),k=N+G+te;x.current.get(B)!==k&&x.current.set(B,k)}}),R(function(A){return A+1})};S?j():w.current=(0,p.Z)(j)}function H(S,j){var W=n(S),A=f.current.get(W);j?(f.current.set(W,j),U()):f.current.delete(W),!A!=!j&&(j?r==null||r(S):o==null||o(S))}return(0,i.useEffect)(function(){return y},[]),[H,U,x.current,v]}},14554:function(P,t,e){e.r(t);var _=e(21386),u=e(15505),i=e(29046),M=e(45965);t.default=(0,_.attachPropertiesToComponent)(u.default,{Refresh:i.default,More:M.default})},21386:function(P,t,e){e.r(t),e.d(t,{attachPropertiesToComponent:function(){return _}});function _(u,i){var M=u;for(var p in i)i.hasOwnProperty(p)&&(M[p]=i[p]);return M}},71385:function(P,t,e){e.d(t,{BB:function(){return _},Jz:function(){return s},_f:function(){return u}});var _=!0,u=typeof window!="undefined",i=u&&window.navigator.userAgent.toLowerCase(),M=i&&i.indexOf("android")>0,p=i&&/iphone|ipad|ipod|ios/.test(i),s=typeof window!="undefined"?window:e.g},24821:function(P,t,e){e.r(t),e.d(t,{debounce:function(){return s},extend:function(){return p},nextTick:function(){return i},noop:function(){return u},warn:function(){return M}});var _=e(71385);function u(){}function i(h){setTimeout(h,0)}var M=function(d){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"error";!_.BB&&console[D]("[Tikiiit Go]: ".concat(d))};function p(h,d){for(var D in d)Object.prototype.hasOwnProperty.call(d,D)&&(h[D]=d[D]);return h}function s(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,D=null;return function(){var I=this,T=arguments;D&&clearTimeout(D),D=setTimeout(function(){h.apply(I,T)},d)}}},94095:function(P,t,e){e.r(t),e.d(t,{render:function(){return u}});var _=e(71385),u=function(i){if(!_._f)return function(I,T,E){I.style.marginLeft=T?"".concat(-T,"px"):"",I.style.marginTop=E?"".concat(-E,"px"):""};var M=document.documentElement.style,p="";i.opera&&Object.prototype.toString.call(opera)==="[object Opera]"?p="presto":"MozAppearance"in M?p="gecko":"WebkitAppearance"in M?p="webkit":typeof navigator.cpuClass=="string"&&(p="trident");var s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[p],h=document.createElement("div"),d="".concat(s,"Perspective"),D="".concat(s,"Transform");return h.style[d]!==void 0?function(I,T,E){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;O?I.style[D]="translate3d(".concat(-T,"px,").concat(-E,"px,0) scale(").concat(C,")"):I.style[D]="translate(".concat(-T,"px,").concat(-E,"px) scale(").concat(C,")")}:h.style[D]!==void 0?function(I,T,E){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;I.style[D]="translate(".concat(-T,"px,").concat(-E,"px) scale(").concat(C,")")}:function(I,T,E,C){I.style.marginLeft=T?"".concat(-T,"px"):"",I.style.marginTop=E?"".concat(-E,"px"):"",I.style.zoom=C||""}}(_.Jz)},51667:function(P,t,e){e.r(t),e.d(t,{default:function(){return C}});var _=e(25298),u=e.n(_),i=e(17069),M=e.n(i),p=e(82092),s=e.n(p),h=e(24821),d=e(71385),D=function(O){var m=Date.now||function(){return+new Date},n=60,r=1e3,o={},l=1;return{requestAnimationFrame:function(){var c=O.requestAnimationFrame||O.webkitRequestAnimationFrame||O.mozRequestAnimationFrame||O.oRequestAnimationFrame,v=!!c;if(c&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(c.toString())&&(v=!1),v)return function(H,S){c(H,S)};var R=60,f={},x=0,w=1,y=null,U=+new Date;return function(H){var S=w++;return f[S]=H,x++,y===null&&(y=setInterval(function(){var j=+new Date,W=f;f={},x=0;for(var A in W)W.hasOwnProperty(A)&&(W[A](j),U=j);j-U>2500&&(clearInterval(y),y=null)},1e3/R)),S}}(),stop:function(v){var R=o[v]!=null;return R&&(o[v]=null),R},isRunning:function(v){return o[v]!=null},start:function(v,R,f,x,w,y){var U=this,H=m(),S=H,j=0,W=0,A=l++;if(A%20===0){var B={};for(var Y in o)Object.prototype.hasOwnProperty.call(o,Y)&&(B[Y]=!0);o=B}var N=function J(ne){var Q=ne!==!0,G=m();if(!o[A]||R&&!R(A)){o[A]=null,f&&f(n-W/((G-H)/r),A,!1);return}if(Q)for(var te=Math.round((G-S)/(r/n))-1,k=0;k<Math.min(te,4);k++)J(!0),W++;x&&(j=(G-H)/x,j>1&&(j=1));var re=w?w(j):j;re=isNaN(re)?0:re,(v(re,G,Q)===!1||j===1)&&Q?(o[A]=null,f&&f(n-W/((G-H)/r),A,j===1||x==null)):Q&&(S=G,U.requestAnimationFrame(J,y))};return o[A]=!0,this.requestAnimationFrame(N,y),A}}}(d.Jz),I=function(m){return Math.pow(m-1,3)+1},T=function(m){return(m/=.5)<1?.5*Math.pow(m,3):.5*(Math.pow(m-2,3)+2)},E=D,C=function(){function O(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.noop,n=arguments.length>1?arguments[1]:void 0;u()(this,O),s()(this,"_callback",h.noop),s()(this,"options",{scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,inRequestAnimationFrame:!1,bouncing:!0,locking:!0,paging:!1,snapping:!1,snappingVelocity:4,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:h.noop,penetrationDeceleration:.03,penetrationAcceleration:.08}),s()(this,"_isSingleTouch",!1),s()(this,"_isTracking",!1),s()(this,"_didDecelerationComplete",!1),s()(this,"_isGesturing",!1),s()(this,"_isDragging",!1),s()(this,"_isDecelerating",!1),s()(this,"_isAnimating",!1),s()(this,"_clientLeft",0),s()(this,"_clientTop",0),s()(this,"_clientWidth",0),s()(this,"_clientHeight",0),s()(this,"_contentWidth",0),s()(this,"_contentHeight",0),s()(this,"_snapWidth",100),s()(this,"_snapHeight",100),s()(this,"_refreshHeight",null),s()(this,"_refreshActive",!1),s()(this,"_refreshActivate",null),s()(this,"_refreshDeactivate",null),s()(this,"_refreshStart",null),s()(this,"_zoomLevel",1),s()(this,"_scrollLeft",0),s()(this,"_scrollTop",0),s()(this,"_maxScrollLeft",0),s()(this,"_maxScrollTop",0),s()(this,"_scheduledLeft",0),s()(this,"_scheduledTop",0),s()(this,"_lastTouchLeft",null),s()(this,"_lastTouchTop",null),s()(this,"_lastTouchMove",null),s()(this,"_positions",[]),s()(this,"_minDecelerationScrollLeft",0),s()(this,"_minDecelerationScrollTop",0),s()(this,"_maxDecelerationScrollLeft",0),s()(this,"_maxDecelerationScrollTop",0),s()(this,"_decelerationVelocityX",0),s()(this,"_decelerationVelocityY",0),s()(this,"_zoomComplete",null),s()(this,"_interruptedAnimation",!1),s()(this,"_initialTouchLeft",0),s()(this,"_initialTouchTop",0),s()(this,"_zoomLevelStart",0),s()(this,"_lastScale",0),s()(this,"_enableScrollX",!0),s()(this,"_enableScrollY",!0),s()(this,"_scheduledZoom",null),(0,h.extend)(this.options,n),this._callback=m}return M()(O,[{key:"setDimensions",value:function(n,r,o,l){typeof n=="number"&&(this._clientWidth=n),typeof r=="number"&&(this._clientHeight=r),typeof o=="number"&&(this._contentWidth=o),typeof l=="number"&&(this._contentHeight=l),this._computeScrollMax(),this.scrollTo(this._scrollLeft,this._scrollTop,!0)}},{key:"setPosition",value:function(n,r){this._clientLeft=n||0,this._clientTop=r||0}},{key:"setSnapSize",value:function(n,r){this._snapWidth=n,this._snapHeight=r}},{key:"getValues",value:function(){return{left:this._scrollLeft,top:this._scrollTop,zoom:this._zoomLevel}}},{key:"getScrollMax",value:function(){return{left:this._maxScrollLeft,top:this._maxScrollTop}}},{key:"activatePullToRefresh",value:function(n,r,o,l){this._refreshHeight=n,this._refreshActivate=r,this._refreshDeactivate=o,this._refreshStart=l}},{key:"triggerPullToRefresh",value:function(){this._publish(this._scrollLeft,-this._refreshHeight,this._zoomLevel,!0),this._refreshStart&&this._refreshStart()}},{key:"finishPullToRefresh",value:function(){this._refreshActive=!1,this._refreshDeactivate&&this._refreshDeactivate(),this.scrollTo(this._scrollLeft,this._scrollTop,!0)}},{key:"scrollTo",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;this._isDecelerating&&(E.stop(this._isDecelerating),this._isDecelerating=!1),l!=null&&l!==this._zoomLevel?(this.options.zooming||(0,h.warn)("Zooming is not enabled!"),l=l||1,n*=l,r*=l,this._computeScrollMax(l)):l=this._zoomLevel,this.options.scrollingX?this.options.paging?n=Math.round(n/this._clientWidth)*this._clientWidth:this.options.snapping&&(n=Math.round(n/this._snapWidth)*this._snapWidth):n=this._scrollLeft,this.options.scrollingY?this.options.paging?r=Math.round(r/this._clientHeight)*this._clientHeight:this.options.snapping&&(r=Math.round(r/this._snapHeight)*this._snapHeight):r=this._scrollTop,n=Math.max(Math.min(this._maxScrollLeft,n),0),r=Math.max(Math.min(this._maxScrollTop,r),0),n===this._scrollLeft&&r===this._scrollTop&&(o=!1),this._isTracking||this._publish(n,r,l,o)}},{key:"zoomTo",value:function(n,r,o,l,c){this.options.zooming||(0,h.warn)("Zooming is not enabled!"),c&&(this._zoomComplete=c),this._isDecelerating&&(E.stop(this._isDecelerating),this._isDecelerating=!1);var v=this._zoomLevel;o==null&&(o=this._clientWidth/2),l==null&&(l=this._clientHeight/2),n=Math.max(Math.min(n,this.options.maxZoom),this.options.minZoom),this._computeScrollMax(n);var R=(o+this._scrollLeft)*n/v-o,f=(l+this._scrollTop)*n/v-l;R>this._maxScrollLeft?R=this._maxScrollLeft:R<0&&(R=0),f>this._maxScrollTop?f=this._maxScrollTop:f<0&&(f=0),this._publish(R,f,n,r)}},{key:"doTouchStart",value:function(n,r){n.length==null&&(0,h.warn)("Invalid touch list: ".concat(n)),r instanceof Date&&(r=r.valueOf()),typeof r!="number"&&(0,h.warn)("Invalid timestamp value: ".concat(r)),this._interruptedAnimation=!0,this._isDecelerating&&(E.stop(this._isDecelerating),this._isDecelerating=!1,this._interruptedAnimation=!0),this._isAnimating&&(E.stop(this._isAnimating),this._isAnimating=!1,this._interruptedAnimation=!0);var o=n.length===1,l,c;o?(l=n[0].pageX,c=n[0].pageY):(l=Math.abs(n[0].pageX+n[1].pageX)/2,c=Math.abs(n[0].pageY+n[1].pageY)/2),this._initialTouchLeft=l,this._initialTouchTop=c,this._zoomLevelStart=this._zoomLevel,this._lastTouchLeft=l,this._lastTouchTop=c,this._lastTouchMove=r,this._lastScale=1,this._enableScrollX=!o&&this.options.scrollingX,this._enableScrollY=!o&&this.options.scrollingY,this._isTracking=!0,this._didDecelerationComplete=!1,this._isDragging=!o,this._isSingleTouch=o,this._positions=[]}},{key:"doTouchMove",value:function(n,r,o){if(n.length==null&&(0,h.warn)("Invalid touch list: ".concat(n)),r instanceof Date&&(r=r.valueOf()),typeof r!="number"&&(0,h.warn)("Invalid timestamp value: ".concat(r)),!!this._isTracking){var l,c;n.length===2?(l=Math.abs(n[0].pageX+n[1].pageX)/2,c=Math.abs(n[0].pageY+n[1].pageY)/2):(l=n[0].pageX,c=n[0].pageY);var v=this._positions;if(this._isDragging){var R=l-this._lastTouchLeft,f=c-this._lastTouchTop,x=this._scrollLeft,w=this._scrollTop,y=this._zoomLevel;if(o!=null&&this.options.zooming){var U=y;if(y=y/this._lastScale*o,y=Math.max(Math.min(y,this.options.maxZoom),this.options.minZoom),U!==y){var H=l-this._clientLeft,S=c-this._clientTop;x=(H+x)*y/U-H,w=(S+w)*y/U-S,this._computeScrollMax(y)}}if(this._enableScrollX){x-=R*this.options.speedMultiplier;var j=this._maxScrollLeft;(x>j||x<0)&&(this.options.bouncing?x+=R/2*this.options.speedMultiplier:x>j?x=j:x=0)}if(this._enableScrollY){w-=f*this.options.speedMultiplier;var W=this._maxScrollTop;(w>W||w<0)&&(this.options.bouncing?(w+=f/2*this.options.speedMultiplier,!this._enableScrollX&&this._refreshHeight!=null&&(!this._refreshActive&&w<=-this._refreshHeight?(this._refreshActive=!0,this._refreshActivate&&this._refreshActivate()):this._refreshActive&&w>-this._refreshHeight&&(this._refreshActive=!1,this._refreshDeactivate&&this._refreshDeactivate()))):w>W?w=W:w=0)}v.length>60&&v.splice(0,30),v.push(x,w,r),this._publish(x,w,y)}else{var A=this.options.locking?3:0,B=5,Y=Math.abs(l-this._initialTouchLeft),N=Math.abs(c-this._initialTouchTop);this._enableScrollX=this.options.scrollingX&&Y>=A,this._enableScrollY=this.options.scrollingY&&N>=A,v.push(this._scrollLeft,this._scrollTop,r),this._isDragging=(this._enableScrollX||this._enableScrollY)&&(Y>=B||N>=B),this._isDragging&&(this._interruptedAnimation=!1)}this._lastTouchLeft=l,this._lastTouchTop=c,this._lastTouchMove=r}}},{key:"doTouchEnd",value:function(n){if(n instanceof Date&&(n=n.valueOf()),typeof n!="number"&&(0,h.warn)("Invalid timestamp value: ".concat(n)),!!this._isTracking){if(this._isTracking=!1,this._isDragging)if(this._isDragging=!1,this._isSingleTouch&&this.options.animating&&n-this._lastTouchMove<=100){for(var r=this._positions,o=r.length-1,l=o,c=o;c>0&&r[c]>this._lastTouchMove-100;c-=3)l=c;if(l!==o){var v=r[o]-r[l],R=this._scrollLeft-r[l-2],f=this._scrollTop-r[l-1];this._decelerationVelocityX=R/v*(1e3/60),this._decelerationVelocityY=f/v*(1e3/60);var x=this.options.paging||this.options.snapping?this.options.snappingVelocity:.01;Math.abs(this._decelerationVelocityX)>x||Math.abs(this._decelerationVelocityY)>x?this._refreshActive||this._startDeceleration(n):this.options.scrollingComplete()}else this.options.scrollingComplete()}else n-this._lastTouchMove>100&&(this.options.snapping||this.options.scrollingComplete());this._isDecelerating||(this._refreshActive&&this._refreshStart?(this._publish(this._scrollLeft,-this._refreshHeight,this._zoomLevel,!0),this._refreshStart&&this._refreshStart()):((this._interruptedAnimation||this._isDragging)&&this.options.scrollingComplete(),this.scrollTo(this._scrollLeft,this._scrollTop,!0,this._zoomLevel),this._refreshActive&&(this._refreshActive=!1,this._refreshDeactivate&&this._refreshDeactivate()))),this._positions.length=0}}},{key:"_publish",value:function(n,r){var o=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,v=this._isAnimating;if(v&&(E.stop(v),this._isAnimating=!1),c&&this.options.animating){this._scheduledLeft=n,this._scheduledTop=r,this._scheduledZoom=l;var R=this._scrollLeft,f=this._scrollTop,x=this._zoomLevel,w=n-R,y=r-f,U=l-x,H=function(B,Y,N){N&&(o._scrollLeft=R+w*B,o._scrollTop=f+y*B,o._zoomLevel=x+U*B,o._callback&&o._callback(o._scrollLeft,o._scrollTop,o._zoomLevel))},S=function(B){return o._isAnimating===B},j=function(B,Y,N){Y===o._isAnimating&&(o._isAnimating=!1),(o._didDecelerationComplete||N)&&o.options.scrollingComplete(),o.options.zooming&&(o._computeScrollMax(),o._zoomComplete&&(o._zoomComplete(),o._zoomComplete=null))},W=function(){o._isAnimating=E.start(H,S,j,o.options.animationDuration,v?I:T)};this.options.inRequestAnimationFrame?E.requestAnimationFrame(function(){W()}):W()}else this._scheduledLeft=this._scrollLeft=n,this._scheduledTop=this._scrollTop=r,this._scheduledZoom=this._zoomLevel=l,this._callback&&this._callback(n,r,l),this.options.zooming&&(this._computeScrollMax(),this._zoomComplete&&(this._zoomComplete(),this._zoomComplete=null))}},{key:"_computeScrollMax",value:function(n){n==null&&(n=this._zoomLevel),this._maxScrollLeft=Math.max(this._contentWidth*n-this._clientWidth,0),this._maxScrollTop=Math.max(this._contentHeight*n-this._clientHeight,0)}},{key:"_startDeceleration",value:function(n){var r=this;if(this.options.paging){var o=Math.max(Math.min(this._scrollLeft,this._maxScrollLeft),0),l=Math.max(Math.min(this._scrollTop,this._maxScrollTop),0),c=this._clientWidth,v=this._clientHeight;this._minDecelerationScrollLeft=Math.floor(o/c)*c,this._minDecelerationScrollTop=Math.floor(l/v)*v,this._maxDecelerationScrollLeft=Math.ceil(o/c)*c,this._maxDecelerationScrollTop=Math.ceil(l/v)*v}else this._minDecelerationScrollLeft=0,this._minDecelerationScrollTop=0,this._maxDecelerationScrollLeft=this._maxScrollLeft,this._maxDecelerationScrollTop=this._maxScrollTop;var R=function(U,H,S){r._stepThroughDeceleration(S)},f=this.options.snapping?this.options.snappingVelocity:.01,x=function(){var U=Math.abs(r._decelerationVelocityX)>=f||Math.abs(r._decelerationVelocityY)>=f;return U||(r._didDecelerationComplete=!0),U},w=function(U,H,S){r._isDecelerating=!1,r.scrollTo(r._scrollLeft,r._scrollTop,r.options.snapping)};this._isDecelerating=E.start(R,x,w)}},{key:"_stepThroughDeceleration",value:function(n){var r=this._scrollLeft+this._decelerationVelocityX,o=this._scrollTop+this._decelerationVelocityY;if(!this.options.bouncing){var l=Math.max(Math.min(this._maxDecelerationScrollLeft,r),this._minDecelerationScrollLeft);l!==r&&(r=l,this._decelerationVelocityX=0);var c=Math.max(Math.min(this._maxDecelerationScrollTop,o),this._minDecelerationScrollTop);c!==o&&(o=c,this._decelerationVelocityY=0)}if(n?this._publish(r,o,this._zoomLevel):(this._scrollLeft=r,this._scrollTop=o),!this.options.paging){var v=.95;this._decelerationVelocityX*=v,this._decelerationVelocityY*=v}if(this.options.bouncing){var R=0,f=0,x=this.options.penetrationDeceleration,w=this.options.penetrationAcceleration;r<this._minDecelerationScrollLeft?R=this._minDecelerationScrollLeft-r:r>this._maxDecelerationScrollLeft&&(R=this._maxDecelerationScrollLeft-r),o<this._minDecelerationScrollTop?f=this._minDecelerationScrollTop-o:o>this._maxDecelerationScrollTop&&(f=this._maxDecelerationScrollTop-o),R!==0&&(R*this._decelerationVelocityX<=0?this._decelerationVelocityX+=R*x:this._decelerationVelocityX=R*w),f!==0&&(f*this._decelerationVelocityY<=0?this._decelerationVelocityY+=f*x:this._decelerationVelocityY=f*w)}}}]),O}()},40043:function(P,t,e){e.r(t),e.d(t,{mergeProp:function(){return u},mergeProps:function(){return _}});function _(){for(var i={},M=arguments.length,p=new Array(M),s=0;s<M;s++)p[s]=arguments[s];return p.forEach(function(h){h&&Object.keys(h).forEach(function(d){h[d]!==void 0&&(i[d]=h[d])})}),i}function u(i){for(var M=arguments.length,p=new Array(M>1?M-1:0),s=1;s<M;s++)p[s-1]=arguments[s];for(var h=p.length-1;h>=0;h-=1)if(p[h]!==void 0)return p[h];return i}},15032:function(P,t,e){e.r(t)},92519:function(P,t,e){e.r(t)},33751:function(P,t,e){e.r(t)},72885:function(P,t,e){e.r(t)},46172:function(P,t,e){e.r(t),e.d(t,{texts:function(){return u}});var _=e(21372);const u=[]},98922:function(P,t,e){e.r(t),e.d(t,{texts:function(){return u}});var _=e(94329);const u=[]},34842:function(P,t,e){e.r(t),e.d(t,{texts:function(){return u}});var _=e(60504);const u=[]},83067:function(P,t,e){e.r(t),e.d(t,{texts:function(){return u}});var _=e(83402);const u=[{value:"\u7528\u4E8E\u6A21\u62DF\u539F\u751F\u7684\u6EDA\u52A8\u533A\u57DF\uFF0C\u652F\u6301\u4E0B\u62C9\u5237\u65B0\u548C\u52A0\u8F7D\u66F4\u591A\uFF0C\u5E76\u652F\u6301\u865A\u62DF\u6EDA\u52A8",paraId:0,tocIndex:0},{value:"Refresh",paraId:1,tocIndex:1},{value:"\u4E3A\u7EC4\u4EF6\u5E93\u5185\u7F6E\u7684\u4E0B\u62C9\u5237\u65B0\u7EC4\u4EF6\uFF0C\u4EC5\u7528\u4E8E\u4F5C\u4E3A\u89C6\u89C9\u5C55\u793A\uFF0C\u9700\u5728",paraId:1,tocIndex:1},{value:"renderRefresh",paraId:1,tocIndex:1},{value:"\u4E2D\u4F7F\u7528\uFF0C\u4E0B\u62C9\u5237\u65B0\u7EC4\u4EF6\u4E5F\u53EF\u81EA\u5B9A\u4E49",paraId:1,tocIndex:1},{value:"More",paraId:1,tocIndex:1},{value:"\u4E3A\u7EC4\u4EF6\u5E93\u5185\u7F6E\u7684\u52A0\u8F7D\u66F4\u591A\u7EC4\u4EF6\uFF0C\u4EC5\u7528\u4E8E\u4F5C\u4E3A\u89C6\u89C9\u5C55\u793A\uFF0C\u9700\u5728",paraId:1,tocIndex:1},{value:"renderMore",paraId:1,tocIndex:1},{value:"\u4E2D\u4F7F\u7528\uFF0C\u52A0\u8F7D\u66F4\u591A\u7EC4\u4EF6\u4E5F\u53EF\u81EA\u5B9A\u4E49",paraId:1,tocIndex:1},{value:"\u7EC4\u4EF6\u5BB9\u5668\u9ED8\u8BA4\u9AD8\u5EA6\u4E3A100%\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4F20\u5165",paraId:1,tocIndex:1},{value:"className",paraId:1,tocIndex:1},{value:"\u6216\u8005",paraId:1,tocIndex:1},{value:"style",paraId:1,tocIndex:1},{value:"\u5C5E\u6027\u81EA\u5B9A\u4E49\u9AD8\u5EA6\uFF0C\u5426\u5219\u4F1A\u51FA\u73B0\u65E0\u6CD5\u6EDA\u52A8\u6216\u56DE\u5F39\u95EE\u9898",paraId:1,tocIndex:1},{value:"https://tg-scroll-view.wuxiaozhou.top",paraId:2,tocIndex:2},{value:`# install dependencies
$ pnpm install

# develop library by docs demo
$ pnpm start

# build library source code
$ pnpm run build

# build library source code in watch mode
$ pnpm run build:watch

# build docs
$ pnpm run docs:build

# Locally preview the production build.
$ pnpm run docs:preview

# check your project for potential problems
$ pnpm run doctor
`,paraId:3,tocIndex:3},{value:"\u5C5E\u6027",paraId:4,tocIndex:5},{value:"\u8BF4\u660E",paraId:4,tocIndex:5},{value:"\u7C7B\u578B",paraId:4,tocIndex:5},{value:"\u9ED8\u8BA4\u503C",paraId:4,tocIndex:5},{value:"\u5907\u6CE8",paraId:4,tocIndex:5},{value:"data",paraId:4,tocIndex:5},{value:"\u6570\u636E\u6570\u7EC4",paraId:4,tocIndex:5},{value:"object[]",paraId:4,tocIndex:5},{value:"children",paraId:4,tocIndex:5},{value:"\u751F\u6210\u590D\u6742\u6570\u636E\u7684\u6E32\u67D3\u51FD\u6570\uFF0C\u53C2\u6570\u5206\u522B\u4E3A\u5F53\u524D\u6570\u636E\u7684\u503C\uFF0C\u5F53\u524D\u884C\u7D22\u5F15\uFF0C\u5F53\u524Dprops",paraId:4,tocIndex:5},{value:"(item, index, props) => ReactElement",paraId:4,tocIndex:5},{value:"itemHeight",paraId:4,tocIndex:5},{value:"\u5143\u7D20\u7684\u6700\u5C0F\u9AD8\u5EA6",paraId:4,tocIndex:5},{value:"number",paraId:4,tocIndex:5},{value:"itemKey",paraId:4,tocIndex:5},{value:"\u5143\u7D20\u7684\u552F\u4E00\u6807\u8BC6",paraId:4,tocIndex:5},{value:"string",paraId:4,tocIndex:5},{value:"scrollingX",paraId:4,tocIndex:5},{value:"\u6C34\u5E73\u6EDA\u52A8",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"true",paraId:4,tocIndex:5},{value:"scrollingY",paraId:4,tocIndex:5},{value:"\u5782\u76F4\u6EDA\u52A8",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"true",paraId:4,tocIndex:5},{value:"bouncing",paraId:4,tocIndex:5},{value:"\u53EF\u56DE\u5F39",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"true",paraId:4,tocIndex:5},{value:"autoReflow",paraId:4,tocIndex:5},{value:"\u5185\u5BB9\u53D1\u751F\u53D8\u5316\u65F6\u81EA\u52A8\u91CD\u7F6E\u6EDA\u52A8\u533A\u57DF\u5C3A\u5BF8",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"false",paraId:4,tocIndex:5},{value:"\u5F53\u8BBE\u7F6E\u4E3A",paraId:4,tocIndex:5},{value:"false",paraId:4,tocIndex:5},{value:"\u65F6\uFF0C\u5185\u5BB9\u53D1\u751F\u53D8\u5316\u9700\u624B\u52A8\u8C03\u7528",paraId:4,tocIndex:5},{value:"reflowScroller",paraId:4,tocIndex:5},{value:"manualInit",paraId:4,tocIndex:5},{value:"\u624B\u52A8\u521D\u59CB\u5316",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"false",paraId:4,tocIndex:5},{value:"\u4E00\u822C\u7528\u4E8E\u5F02\u6B65\u521D\u59CB\u5316\u7684\u573A\u666F\uFF0C\u9700\u624B\u52A8\u8C03\u7528",paraId:4,tocIndex:5},{value:"init",paraId:4,tocIndex:5},{value:"\u65B9\u6CD5\u5B8C\u6210\u521D\u59CB\u5316",paraId:4,tocIndex:5},{value:"endReachedThreshold",paraId:4,tocIndex:5},{value:"\u89E6\u53D1\u5230\u8FBE\u5E95\u90E8\u7684\u63D0\u524D\u91CF",paraId:4,tocIndex:5},{value:"number",paraId:4,tocIndex:5},{value:"0",paraId:4,tocIndex:5},{value:"\u5355\u4F4D",paraId:4,tocIndex:5},{value:"px",paraId:4,tocIndex:5},{value:"immediateCheckEndReaching",paraId:4,tocIndex:5},{value:"\u521D\u59CB\u5316\u65F6\u7ACB\u5373\u89E6\u53D1\u662F\u5426\u5230\u8FBE\u5E95\u90E8\u68C0\u67E5",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"false",paraId:4,tocIndex:5},{value:"touchAngle",paraId:4,tocIndex:5},{value:"\u89E6\u53D1\u6EDA\u52A8\u7684\u89D2\u5EA6\u8303\u56F4",paraId:4,tocIndex:5},{value:"number",paraId:4,tocIndex:5},{value:"45",paraId:4,tocIndex:5},{value:"\u5355\u4F4D",paraId:4,tocIndex:5},{value:"deg",paraId:4,tocIndex:5},{value:"isPrevent",paraId:4,tocIndex:5},{value:"\u963B\u6B62\u6D4F\u89C8\u5668\u9ED8\u8BA4\u6EDA\u52A8",paraId:4,tocIndex:5},{value:"boolean",paraId:4,tocIndex:5},{value:"true",paraId:4,tocIndex:5},{value:"\u5982\u679C\u8BBE\u7F6E\u4E3A",paraId:4,tocIndex:5},{value:"false",paraId:4,tocIndex:5},{value:"\uFF0C\u5F53\u5728\u975E\u53EF\u6EDA\u52A8\u89D2\u5EA6\u8303\u56F4\u89E6\u53D1\u6EDA\u52A8\u65F6\u4F1A\u89E6\u53D1\u6D4F\u89C8\u5668\u9ED8\u8BA4\u6EDA\u52A8",paraId:4,tocIndex:5},{value:"onScroll",paraId:4,tocIndex:5},{value:"\u6EDA\u52A8\u4E8B\u4EF6",paraId:4,tocIndex:5},{value:"(params: { scrollLeft: number, scrollTop: number }) => void",paraId:4,tocIndex:5},{value:"onRefreshActive",paraId:4,tocIndex:5},{value:"\u91CA\u653E\u53EF\u5237\u65B0\u4E8B\u4EF6",paraId:4,tocIndex:5},{value:"() => void",paraId:4,tocIndex:5},{value:"onRefreshing",paraId:4,tocIndex:5},{value:"\u5237\u65B0\u4E2D\u4E8B\u4EF6",paraId:4,tocIndex:5},{value:"() => void",paraId:4,tocIndex:5},{value:"onEndReached",paraId:4,tocIndex:5},{value:"\u6EDA\u52A8\u89E6\u5E95\u4E8B\u4EF6",paraId:4,tocIndex:5},{value:"() => void",paraId:4,tocIndex:5},{value:"\u53C2\u6570",paraId:5,tocIndex:6},{value:"\u8BF4\u660E",paraId:5,tocIndex:6},{value:"\u7C7B\u578B",paraId:5,tocIndex:6},{value:"\u5907\u6CE8",paraId:5,tocIndex:6},{value:"init",paraId:5,tocIndex:6},{value:"\u521D\u59CB\u5316\u6EDA\u52A8\u533A\u57DF\uFF0C\u5F53",paraId:5,tocIndex:6},{value:"manualInit",paraId:5,tocIndex:6},{value:"\u8BBE\u7F6E\u4E3A",paraId:5,tocIndex:6},{value:"true",paraId:5,tocIndex:6},{value:"\u65F6\u4F7F\u7528",paraId:5,tocIndex:6},{value:"() => void",paraId:5,tocIndex:6},{value:"reflowScroller",paraId:5,tocIndex:6},{value:"\u91CD\u7F6E\u6EDA\u52A8\u533A\u57DF\uFF0C\u4E00\u822C\u6EDA\u52A8\u533A\u57DF\u4E2D\u7684\u5185\u5BB9\u53D1\u751F\u53D8\u5316\u4E4B\u540E\u9700\u8C03\u7528",paraId:5,tocIndex:6},{value:"() => void",paraId:5,tocIndex:6},{value:"scrollTo",paraId:5,tocIndex:6},{value:"\u6EDA\u52A8\u81F3\u6307\u5B9A\u4F4D\u7F6E",paraId:5,tocIndex:6},{value:"(left: number, top: number, animate? = false) => void",paraId:5,tocIndex:6},{value:"getOffsets",paraId:5,tocIndex:6},{value:"\u83B7\u53D6\u6EDA\u52A8\u4F4D\u7F6E",paraId:5,tocIndex:6},{value:"() => ({ left: number, top: number })",paraId:5,tocIndex:6},{value:"triggerRefresh",paraId:5,tocIndex:6},{value:"\u89E6\u53D1\u4E0B\u62C9\u5237\u65B0",paraId:5,tocIndex:6},{value:"() => void",paraId:5,tocIndex:6},{value:"finishRefresh",paraId:5,tocIndex:6},{value:"\u505C\u6B62\u4E0B\u62C9\u5237\u65B0",paraId:5,tocIndex:6},{value:"() => void",paraId:5,tocIndex:6},{value:"finishRefresh",paraId:5,tocIndex:6},{value:"\u505C\u6B62\u52A0\u8F7D\u66F4\u591A",paraId:5,tocIndex:6},{value:"() => void",paraId:5,tocIndex:6},{value:"\u5C5E\u6027",paraId:6,tocIndex:7},{value:"\u8BF4\u660E",paraId:6,tocIndex:7},{value:"\u7C7B\u578B",paraId:6,tocIndex:7},{value:"\u9ED8\u8BA4\u503C",paraId:6,tocIndex:7},{value:"\u5907\u6CE8",paraId:6,tocIndex:7},{value:"scrollTop",paraId:6,tocIndex:7},{value:"\u8DDD\u79BB\u9876\u90E8\u8DDD\u79BB",paraId:6,tocIndex:7},{value:"number",paraId:6,tocIndex:7},{value:"0",paraId:6,tocIndex:7},{value:"\u5355\u4F4D",paraId:6,tocIndex:7},{value:"px",paraId:6,tocIndex:7},{value:"isRefreshActive",paraId:6,tocIndex:7},{value:"\u91CA\u653E\u53EF\u5237\u65B0\u72B6\u6001",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"isRefreshing",paraId:6,tocIndex:7},{value:"\u5237\u65B0\u4E2D\u72B6\u6001",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"refreshText",paraId:6,tocIndex:7},{value:"\u5F85\u5237\u65B0\u6587\u6848",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"\u4E0B\u62C9\u5237\u65B0",paraId:6,tocIndex:7},{value:"refreshActiveText",paraId:6,tocIndex:7},{value:"\u91CA\u653E\u53EF\u5237\u65B0\u6587\u6848",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"\u91CA\u653E\u5237\u65B0",paraId:6,tocIndex:7},{value:"refreshingText",paraId:6,tocIndex:7},{value:"\u5237\u65B0\u4E2D\u6587\u6848",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"\u5237\u65B0\u4E2D...",paraId:6,tocIndex:7},{value:"rollerColor",paraId:6,tocIndex:7},{value:"\u8FDB\u5EA6\u6761\u989C\u8272",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"#7C4DFF",paraId:6,tocIndex:7},{value:"\u5C5E\u6027",paraId:7,tocIndex:8},{value:"\u8BF4\u660E",paraId:7,tocIndex:8},{value:"\u7C7B\u578B",paraId:7,tocIndex:8},{value:"\u9ED8\u8BA4\u503C",paraId:7,tocIndex:8},{value:"\u5907\u6CE8",paraId:7,tocIndex:8},{value:"isFinished",paraId:7,tocIndex:8},{value:"\u5168\u90E8\u5DF2\u52A0\u8F7D",paraId:7,tocIndex:8},{value:"boolean",paraId:7,tocIndex:8},{value:"false",paraId:7,tocIndex:8},{value:"loadingText",paraId:7,tocIndex:8},{value:"\u52A0\u8F7D\u4E2D\u6587\u6848",paraId:7,tocIndex:8},{value:"boolean",paraId:7,tocIndex:8},{value:"\u66F4\u591A\u52A0\u8F7D\u4E2D...",paraId:7,tocIndex:8},{value:"finishedText",paraId:7,tocIndex:8},{value:"\u5168\u90E8\u5DF2\u52A0\u8F7D\u6587\u6848",paraId:7,tocIndex:8},{value:"boolean",paraId:7,tocIndex:8},{value:"\u5168\u90E8\u5DF2\u52A0\u8F7D",paraId:7,tocIndex:8},{value:"MIT",paraId:8,tocIndex:9}]},94377:function(P,t,e){e.r(t),e.d(t,{texts:function(){return u}});var _=e(43438);const u=[]},34260:function(P,t){t.Z=`.basic-scroll-view {
  border: 1px solid #D9D9D9FF;
  border-radius: 4px;
  height: 400px!important;
}

.basic-scroll-view-item {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  border-bottom: 1px solid #0505050F;
}

.basic-scroll-view-item-last {
  border: none;
}
`},30773:function(P,t){t.Z=`import React from 'react';
import cs from 'classnames';
import TgScrollView from '../src/components/scroll-view';
import './basic.less';

interface DataItem {
  name: string;
  uuid: number;
}

let uuid = 0;

function genItem() {
  const item = {
    name: \`key_\${uuid}\`,
    uuid,
  };
  uuid += 1;
  return item;
}

const data: DataItem[] = [];

for (let i = 0; i < 20; i += 1) {
  data.push(genItem());
}

function Basic() {
  return (
    <>
      <h3>\u57FA\u672C\u4F7F\u7528</h3>
      <TgScrollView data={data} itemKey="uuid" className="basic-scroll-view">
        {(item, index) => {
          return (
            <div
              className={cs(
                'basic-scroll-view-item',
                { 'basic-scroll-view-item-last': index === data.length - 1 },
              )}
            >
              {item.name}
            </div>
          );
        }}
      </TgScrollView>
    </>
  );
}

export default Basic;
`},9611:function(P,t){t.Z=`.reset-more-scroll-view {
  height: 500px;
  border: 1px solid #D9D9D9FF;
  border-radius: 4px;
}

.reset-more-scroll-view-item {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  border-bottom: 1px solid #D9D9D9FF;
}

.reset-more-scroll-view-item-last {
  border: none;
}
`},43980:function(P,t){t.Z=`import React, { useState, useRef, useEffect } from 'react';
import cs from 'classnames';
import TgScrollView, { TgScrollViewRef } from '../src';
import './reset-more.less';

interface IDataItem {
  name: number | string;
  id: number;
}

let index = 0;

function Basic() {
  const [isFinished, setIsFinished] = useState(false);
  const [data, setData] = useState<IDataItem[]>([]);
  const [isLoading, setIsLoading] = useState(false);

  const scrollViewRef = useRef<TgScrollViewRef>(null);

  const onRefreshing = async () => {
    if (isLoading) return;
    console.log('onRefreshing');
    index = 0;
    setIsFinished(false);
    setIsLoading(true);
    setTimeout(() => {
      const newData: IDataItem[] = [];
      Array.from({ length: 10 }, (v, i) => {
        newData.push({ name: i, id: i });
      });
      index++;
      setData(newData);
      scrollViewRef.current?.finishRefresh();
      setIsLoading(false);
    }, 3000);
  };

  const onEndReached = async () => {
    if (isLoading) return;
    if (isFinished) return;
    console.log('onEndReached');
    setIsLoading(true);
    setTimeout(() => {
      const newData: IDataItem[] = [];
      Array.from({ length: 10 }, (v, i) => {
        newData.push({ name: index * 10 + i, id: index * 10 + i });
      });
      index++;
      setData(pre => {
        const current = pre.concat(newData);
        if (current.length > 100) {
          setIsFinished(true);
        }
        return current;
      });
      scrollViewRef.current?.finishLoadMore();
      setIsLoading(false);
    }, 3000);
  };

  useEffect(() => {
    const newData: IDataItem[] = [];
    Array.from({ length: 10 }, (v, i) => {
      newData.push({ name: i, id: i });
    });
    index++;
    setData(newData);
  }, []);

  return (
    <>
      <h3>\u6EDA\u52A8\u533A\u57DF/\u4E0B\u62C9\u5237\u65B0</h3>
      <TgScrollView
        ref={scrollViewRef}
        data={data}
        itemKey="id"
        className="reset-more-scroll-view"
        autoReflow
        scrollingX={false}
        renderRefresh={({ scrollTop, isRefreshing, isRefreshActive }) => (
          <TgScrollView.Refresh
            scrollTop={scrollTop}
            isRefreshing={isRefreshing}
            isRefreshActive={isRefreshActive}
          />
        )}
        renderMore={({ isEndReaching }) => {
          console.log(isEndReaching);
          return <TgScrollView.More isFinished={isFinished} />
        }}
        onRefreshing={onRefreshing}
        onEndReached={onEndReached}
      >
        {(item, index) => {
          return (
            <div
              className={cs(
                'reset-more-scroll-view-item',
                { 'reset-more-scroll-view-item-last': index === data.length - 1 },
              )}
            >
              {item.name}
            </div>
          );
        }}
      </TgScrollView>
    </>
  );
}

export default Basic;
`},97864:function(P,t){t.Z=`.virtual-scroll-view {
  border: 1px solid #D9D9D9FF;
  border-radius: 4px;
  height: 400px!important;
}

.virtual-scroll-view-item {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  border-bottom: 1px solid #0505050F;
}

.virtual-scroll-view-item-last {
  border: none;
}
`},6198:function(P,t){t.Z=`import React from 'react';
import cs from 'classnames';
import TgScrollView from '../src/components/scroll-view';
import './virtual.less';

interface DataItem {
  name: string;
  uuid: number;
}

let uuid = 0;

function genItem() {
  const item = {
    name: \`key_\${uuid}\`,
    uuid,
  };
  uuid += 1;
  return item;
}

const data: DataItem[] = [];

for (let i = 0; i < 1000; i += 1) {
  data.push(genItem());
}

function Virtual() {
  return (
    <>
      <h3>\u865A\u62DF\u6EDA\u52A8</h3>
      <TgScrollView
        data={data}
        itemKey="uuid"
        itemHeight={50}
        autoReflow
        scrollingX={false}
        className="virtual-scroll-view"
      >
        {(item, index) => {
          return (
            <div
              className={cs(
                'virtual-scroll-view-item',
                { 'virtual-scroll-view-item-last': index === data.length - 1 },
              )}
            >
              {item.name}
            </div>
          );
        }}
      </TgScrollView>
    </>
  );
}

export default Virtual;
`},14758:function(P,t){t.Z=`import React from 'react';
import { mergeProps } from 'tg-scroll-view/utils/with-default-props';
import './index.less';

interface ScrollViewMoreProps {
  loadingText?: string;
  finishedText?: string;
  isFinished?: boolean;
}

const defaultProps = {
  loadingText: '\u66F4\u591A\u52A0\u8F7D\u4E2D...',
  finishedText: '\u5168\u90E8\u5DF2\u52A0\u8F7D',
  isFinished: false,
};

function ScrollViewMore(p: ScrollViewMoreProps) {
  const props = mergeProps(defaultProps, p);
  const { isFinished, loadingText, finishedText } = props;
  return <div className="tg-scroll-view-more">{!isFinished ? loadingText : finishedText}</div>;
}

export default ScrollViewMore;
`},32984:function(P,t){t.Z=`import React, { useMemo, useRef } from 'react';
import { mergeProps } from 'tg-scroll-view/utils/with-default-props';
import TgActivityIndicatorRolling from 'tg-scroll-view/components/activity-indicator/roller';
import './index.less';

interface ScrollViewRefreshProps {
  scrollTop?: number;
  isRefreshing?: boolean;
  isRefreshActive?: boolean;
  refreshText?: string;
  refreshActiveText?: string;
  refreshingText?: string;
  rollerColor?: string;
}

const defaultProps = {
  scrollTop: 0,
  isRefreshing: false,
  isRefreshActive: false,
  refreshText: '\u4E0B\u62C9\u5237\u65B0',
  refreshActiveText: '\u91CA\u653E\u5237\u65B0',
  refreshingText: '\u5237\u65B0\u4E2D...',
  rollerColor: '#7C4DFF',
};

function ScrollViewRefresh(p: ScrollViewRefreshProps) {
  const domRef = useRef<HTMLDivElement>(null);
  const props = mergeProps(defaultProps, p);
  const {
    scrollTop,
    isRefreshing,
    isRefreshActive,
    refreshText,
    refreshActiveText,
    refreshingText,
    rollerColor,
  } = props;

  const process = useMemo(() => {
    const container = domRef.current;
    if (!container || !scrollTop) {
      return +scrollTop;
    }

    const refreshHeight = container.clientHeight;

    if (Math.abs(scrollTop) < refreshHeight / 2) {
      return 0;
    }
    // first 1/3 is not included in progress
    return (Math.abs(scrollTop) - refreshHeight / 2) / (refreshHeight / 2);
  }, [scrollTop]);

  const refreshTip = useMemo(() => {
    if (isRefreshing) {
      return refreshingText;
    }
    if (isRefreshActive) {
      return refreshActiveText;
    }
    return refreshText;
  }, [isRefreshing, refreshingText, isRefreshActive, refreshActiveText, refreshText]);

  return (
    <div className="tg-scroll-view-refresh" ref={domRef}>
      <TgActivityIndicatorRolling
        process={!isRefreshing ? process : undefined}
        width={10}
        color={rollerColor}
      />
      <div className="tg-scroll-view-refresh-tip">{refreshTip}</div>
    </div>
  );
}

export default ScrollViewRefresh;
`},86997:function(P,t){t.Z=`import React, {
  useEffect,
  useRef,
  useState,
  forwardRef,
  useImperativeHandle,
  useMemo,
  useCallback,
} from 'react';
import type { ReactNode, Ref } from 'react';
import cs from 'classnames';
import { useUpdateEffect, useMemoizedFn } from 'ahooks';
import ResizeObserver from 'rc-resize-observer';
import type { SizeInfo } from 'rc-resize-observer';
import type { BaseComponentProps, SharedConfig, RenderFunc, GetKey } from 'tg-scroll-view/interfaces';
import { mergeProps } from 'tg-scroll-view/utils/with-default-props';
import Scroller from 'tg-scroll-view/utils/scroller';
import { render } from 'tg-scroll-view/utils/render';
import { nextTick, debounce } from 'tg-scroll-view/utils';
import useHeights from 'tg-scroll-view/hooks/use-heights';
import useChildren from 'tg-scroll-view/hooks/use-children';
import VirtualList from '../virtual-list';
import './index.less';

interface RenderRefreshParams {
  scrollTop: number;
  isRefreshing: boolean;
  isRefreshActive: boolean;
}

interface RenderMoreParams {
  isEndReaching: boolean;
}

interface OnScrollParams {
  scrollLeft: number;
  scrollTop: number;
}

export interface TgScrollViewProps<T> extends Omit<BaseComponentProps, 'children'> {
  scrollingX?: boolean;
  scrollingY?: boolean;
  bouncing?: boolean;
  autoReflow?: boolean;
  manualInit?: boolean;
  endReachedThreshold?: number;
  immediateCheckEndReaching?: boolean;
  touchAngle?: number;
  isPrevent?: boolean;
  children: RenderFunc<T>;
  renderHeader?: () => ReactNode;
  renderRefresh?: (params: RenderRefreshParams) => ReactNode;
  renderMore?: (params: RenderMoreParams) => ReactNode;
  renderFooter?: () => ReactNode;
  onRefreshing?: () => void;
  onRefreshActive?: () => void;
  onEndReached?: () => void;
  onScroll?: (params: OnScrollParams) => void;

  virtual?: boolean;
  itemHeight?: number;
  data: T[];
  itemKey: React.Key | ((item: T) => React.Key);
}

export interface TgScrollViewRef {
  init: () => void;
  reflowScroller: (force: boolean) => void;
  scrollTo: (left: number, top: number, animate?: boolean) => void;
  getOffsets: () => { left: number; top: number };
  triggerRefresh: () => void;
  finishRefresh: () => void;
  finishLoadMore: () => void;
}

const defaultProps = {
  scrollingX: true,
  scrollingY: true,
  bouncing: true,
  autoReflow: false,
  manualInit: false,
  endReachedThreshold: 0,
  immediateCheckEndReaching: false,
  touchAngle: 45,
  isPrevent: true,

  virtual: true,
  onEndReached: () => {},
};

function TgScrollView<T = any>(p: TgScrollViewProps<T>, ref: Ref<TgScrollViewRef>) {
  // \u6C34\u5E73\u65B9\u5411\u7684\u6EDA\u52A8\u8DDD\u79BB
  const [scrollX, setScrollX] = useState<number>(0);
  // \u5782\u76F4\u65B9\u5411\u7684\u6EDA\u52A8\u8DDD\u79BB
  const [scrollY, setScrollY] = useState<number>(0);
  const [isRefreshing, setRefreshing] = useState(false);
  const [isRefreshActive, setRefreshActive] = useState(false);
  const [isEndReachingStart, setEndReachingStart] = useState(false);
  const [isEndReaching, setEndReaching] = useState(false);

  const containerRef = useRef<HTMLDivElement | null>(null);
  const contentRef = useRef<HTMLDivElement | null>(null);
  const refresherRef = useRef<HTMLDivElement | null>(null);
  const moreRef = useRef<HTMLDivElement | null>(null);
  const scrollerRef = useRef<Scroller | null>(null);
  // \u5237\u65B0\u6A21\u5757\u7684\u9AD8\u5EA6
  const refreshOffsetYRef = useRef(0);
  // \u662F\u5426\u5DF2\u521D\u59CB\u5316
  const isInitialedRef = useRef(false);
  const isMouseDownRef = useRef(false);
  const startXRef = useRef(0);
  const startYRef = useRef(0);
  const currentXRef = useRef(0);
  const currentYRef = useRef(0);
  const containerWRef = useRef(0);
  const containerHRef = useRef(0);
  const contentWRef = useRef(0);
  const contentHRef = useRef(0);
  const reflowTimerRef = useRef<number | null>(null);
  const endReachedHandlerRef = useRef<(() => void) | null>(null);
  const moreOffsetYRef = useRef(0);

  const props = mergeProps(defaultProps, p);
  const {
    scrollingX,
    scrollingY,
    bouncing,
    manualInit,
    endReachedThreshold,
    autoReflow,
    immediateCheckEndReaching,
    isPrevent,
    touchAngle,
    className,
    children,

    renderHeader,
    renderFooter,
    renderRefresh,
    renderMore,

    onScroll,
    onRefreshActive,
    onRefreshing,
    onEndReached,

    virtual,
    itemHeight,
    data,
    itemKey,
  } = props;

  const _onEndReached = useMemoizedFn(onEndReached);

  const _getScrollerAngle = () => {
    const diffX = currentXRef.current - startXRef.current;
    const diffY = currentYRef.current - startYRef.current;
    const angle = (Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180) / Math.PI;
    return scrollingX ? 90 - angle : angle;
  };

  const _onScrollerTouchStart = (event: React.TouchEvent<HTMLDivElement>) => {
    // event.target.tagName && event.target.tagName.match(/input|textarea|select/i)
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    startXRef.current = event.targetTouches[0].pageX;
    startYRef.current = event.targetTouches[0].pageY;
    scroller.doTouchStart(event.touches, event.timeStamp);
  };

  const _onScrollerTouchMove = (event: TouchEvent) => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    let hadPrevent = false;

    if (isPrevent) {
      event.preventDefault();
      hadPrevent = true;
    }

    currentXRef.current = event.targetTouches[0].pageX;
    currentYRef.current = event.targetTouches[0].pageY;

    if (!scrollingX || !scrollingY) {
      const currentTouchAngle = _getScrollerAngle();
      if (currentTouchAngle < touchAngle) {
        return;
      }
    }

    if (!hadPrevent && event.cancelable) {
      event.preventDefault();
    }

    // @ts-ignore
    scroller.doTouchMove(event.touches, event.timeStamp, event.scale);

    const boundaryDistance = 15;
    const scrollLeft =
      document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;
    const scrollTop =
      document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;

    const pX = currentXRef.current - scrollLeft;
    const pY = currentYRef.current - scrollTop;
    if (
      pX > document.documentElement.clientWidth - boundaryDistance ||
      pY > document.documentElement.clientHeight - boundaryDistance ||
      pX < boundaryDistance ||
      pY < boundaryDistance
    ) {
      scroller.doTouchEnd(event.timeStamp);
    }
  };

  const _onScrollerTouchEnd = (event: React.TouchEvent<HTMLDivElement>) => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    scroller.doTouchEnd(event.timeStamp);
  };

  const _onScrollerMouseDown = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    startXRef.current = event.pageX;
    startYRef.current = event.pageY;
    scroller.doTouchStart(
      [
        {
          pageX: event.pageX,
          pageY: event.pageY,
        },
      ],
      event.timeStamp,
    );
    isMouseDownRef.current = true;
  };

  const _onScrollerMouseMove = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {
    const scroller = scrollerRef.current;
    const isMouseDown = isMouseDownRef.current;
    if (!scroller || !isMouseDown) {
      return;
    }

    currentXRef.current = event.pageX;
    currentYRef.current = event.pageY;
    if (!scrollingX || !scrollingY) {
      const currentTouchAngle = _getScrollerAngle();
      if (currentTouchAngle < touchAngle) {
        return;
      }
    }
    scroller.doTouchMove(
      [
        {
          pageX: event.pageX,
          pageY: event.pageY,
        },
      ],
      event.timeStamp,
    );
    isMouseDownRef.current = true;
  };

  const _onScrollerMouseUp = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {
    const scroller = scrollerRef.current;
    const isMouseDown = isMouseDownRef.current;
    if (!scroller || !isMouseDown) {
      return;
    }
    scroller.doTouchEnd(event.timeStamp);
    isMouseDownRef.current = false;
  };

  const _destroyAutoReflow = () => {
    const reflowTimer = reflowTimerRef.current;
    reflowTimer && clearInterval(reflowTimer);
  };

  const _checkScrollerEnd = () => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }

    const containerHeight = scroller._clientHeight;
    const content = scroller._contentHeight;
    const top = scroller._scrollTop;
    const moreOffsetY = moreOffsetYRef.current;
    const moreThreshold = endReachedThreshold;
    const endOffset = content - containerHeight - (top + moreOffsetY + moreThreshold);
    const endReachedHandler = endReachedHandlerRef.current;

    if (top >= 0 && !isEndReaching && endOffset <= 0 && endReachedHandler) {
      // First prepare for "load more" state
      setEndReachingStart(true);
      // Second enter "load more" state
      // & trigger endReached event only once after the rebounding animation
      endReachedHandler();
    }
  };

  const _onScroll = (left: number, top: number) => {
    left = +left.toFixed(2);
    top = +top.toFixed(2);

    if (scrollX === left && scrollY === top) {
      return;
    }
    setScrollX(left);
    setScrollY(top);
    _checkScrollerEnd();
    onScroll?.({ scrollLeft: left, scrollTop: top });
  };

  const reflowScroller = (force = false) => {
    const container = containerRef.current;
    const content = contentRef.current;
    const scroller = scrollerRef.current;

    if (!scroller || !container || !content) {
      return;
    }

    nextTick(() => {
      const containerW = container.clientWidth;
      const containerH = container.clientHeight;
      const contentW = content.offsetWidth;
      const contentH = content.offsetHeight;

      if (
        force ||
        containerWRef.current !== containerW ||
        containerHRef.current !== containerH ||
        contentWRef.current !== contentW ||
        contentHRef.current !== contentH
      ) {
        scroller.setDimensions(
          container.clientWidth,
          container.clientHeight,
          content.offsetWidth,
          content.offsetHeight,
        );
        containerWRef.current = containerW;
        containerHRef.current = containerH;
        contentWRef.current = contentW;
        contentHRef.current = contentH;
      }
    });
  };

  const _initAutoReflow = () => {
    _destroyAutoReflow();
    // @ts-ignore
    reflowTimerRef.current = setInterval(() => {
      reflowScroller();
    }, 100);
  };

  const _initScroller = () => {
    const isInitialed = isInitialedRef.current;
    if (isInitialed) {
      return;
    }
    const container = containerRef.current as HTMLDivElement;
    const content = container.querySelector('.scroll-view-content') as HTMLDivElement;
    const refresher = container.querySelector('.scroll-view-refresh') as HTMLDivElement;
    const more = container.querySelector('.scroll-view-more') as HTMLDivElement;

    contentRef.current = content;
    refresherRef.current = refresher;
    moreRef.current = more;

    refreshOffsetYRef.current = refresher ? refresher.clientHeight : 0;
    moreOffsetYRef.current = more ? more.clientHeight : 0;

    const rect = container.getBoundingClientRect();
    const scroller = new Scroller(
      (left: number, top: number) => {
        render(content, left, top);
        if (isInitialedRef.current) {
          _onScroll(left, top);
        }
      },
      {
        scrollingX,
        scrollingY,
        bouncing,
        zooming: false,
        animationDuration: 200,
        speedMultiplier: 1.2,
        inRequestAnimationFrame: true,
      },
    );
    scroller.setPosition(rect.left + container.clientLeft, rect.top + container.clientTop);
    if (typeof renderRefresh === 'function') {
      const refreshOffsetY = refreshOffsetYRef.current;
      scroller.activatePullToRefresh(
        refreshOffsetY,
        () => {
          setRefreshActive(true);
          setRefreshing(false);
          onRefreshActive?.();
        },
        () => {
          setRefreshActive(false);
          setRefreshing(false);
        },
        () => {
          setRefreshActive(false);
          setRefreshing(true);
          onRefreshing?.();
        },
      );
    }
    scrollerRef.current = scroller;
    reflowScroller(true);
    autoReflow && _initAutoReflow();
    endReachedHandlerRef.current = debounce(() => {
      setEndReaching(true);
      _onEndReached?.();
    }, 50);

    setTimeout(() => {
      isInitialedRef.current = true;
    }, 50);

    if (immediateCheckEndReaching) {
      nextTick(_checkScrollerEnd);
    }
  };

  const init = () => {
    nextTick(() => {
      _initScroller();
    });
  };

  const scrollTo = (left: number, top: number, animate = false) => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    scroller.scrollTo(left, top, animate);
  };

  const getOffsets = () => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return { left: 0, top: 0 };
    }
    return scroller.getValues();
  };

  const triggerRefresh = () => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    scroller.triggerPullToRefresh();
  };

  const finishRefresh = () => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    scroller.finishPullToRefresh();
    reflowScroller();
  };

  const finishLoadMore = () => {
    const scroller = scrollerRef.current;
    if (!scroller) {
      return;
    }
    setEndReachingStart(false);
    setEndReaching(false);
    reflowScroller();
  };

  useImperativeHandle(ref, () => ({
    init,
    reflowScroller,
    scrollTo,
    getOffsets,
    triggerRefresh,
    finishRefresh,
    finishLoadMore,
  }));

  useUpdateEffect(() => {
    if (autoReflow) {
      _initAutoReflow();
    } else {
      _destroyAutoReflow();
    }
  }, [autoReflow]);

  useEffect(() => {
    if (!manualInit) {
      _initScroller();
    }
    return () => {
      _destroyAutoReflow();
    };
  }, []);

  useEffect(() => {
    const container = containerRef.current as HTMLDivElement;
    container.addEventListener('touchmove', _onScrollerTouchMove, { passive: false });
    return () => {
      container.removeEventListener('touchmove', _onScrollerTouchMove);
    };
  }, []);

  const getKey = useCallback<GetKey<T>>(
    (item: T) => {
      if (typeof itemKey === 'function') {
        return itemKey(item);
      }
      return (item as any)?.[String(itemKey)];
    },
    [itemKey],
  );

  const sharedConfig: SharedConfig<T> = {
    getKey,
  };

  const [size, setSize] = useState({ width: 0, height: 0 });
  const mergedData = data || [];
  const height = size.height;
  const [setInstanceRef, collectHeight, heights, heightUpdatedMark] = useHeights(
    getKey,
  );

  const onContainerResize = (sizeInfo: SizeInfo) => {
    setSize({
      width: sizeInfo.offsetWidth,
      height: sizeInfo.offsetHeight,
    });
  };

  const fillerInnerRef = useRef<HTMLDivElement>(null);
  const containerHeight = useMemo(
    () => Object.values(heights.maps).reduce((total, curr) => total + curr, 0),
    [heights.id, heights.maps],
  );
  const useVirtual = !!(virtual && itemHeight);
  const inVirtual =
    useVirtual && data && Math.max(itemHeight * data.length, containerHeight) > height;

  const {
    scrollHeight,
    start,
    end,
    offset: fillerOffset,
  } = React.useMemo(() => {
    if (!useVirtual) {
      return {
        scrollHeight: 0,
        start: 0,
        end: mergedData.length - 1,
        offset: undefined,
      };
    }

    // Always use virtual scroll bar in avoid shaking
    if (!inVirtual) {
      return {
        scrollHeight: fillerInnerRef.current?.offsetHeight || 0,
        start: 0,
        end: mergedData.length - 1,
        offset: undefined,
      };
    }

    let itemTop = 0;
    let startIndex: number | null = null;
    let startOffset: number;
    let endIndex: number | null = null;

    const dataLen = mergedData.length;
    for (let i = 0; i < dataLen; i += 1) {
      const item = mergedData[i];
      const key = getKey(item);

      const cacheHeight = heights.get(key);
      const currentItemBottom = itemTop + (cacheHeight === undefined ? itemHeight : cacheHeight);

      // Check item top in the range
      if (currentItemBottom >= scrollY && startIndex === null) {
        startIndex = i;
        startOffset = itemTop;
      }

      // Check item bottom in the range. We will render additional one item for motion usage
      if (currentItemBottom > scrollY + height && endIndex === null) {
        endIndex = i;
      }

      itemTop = currentItemBottom;
    }

    // When scrollTop at the end but data cut to small count will reach this
    if (startIndex === null) {
      startIndex = 0;
      startOffset = 0;
      endIndex = Math.ceil(height / itemHeight);
    }

    if (endIndex === null) {
      endIndex = mergedData.length - 1;
    }

    // \u591A\u6E32\u67D3\u4E00\u4E2A\u63D0\u9AD8\u4F53\u9A8C\uFF0C\u5982\u679C\u8D85\u8FC7\u4E86\u6700\u5927\u503C\u5219\u8BBE\u7F6E\u4E3A\u6700\u5927\u503C
    endIndex = Math.min(endIndex + 1, mergedData.length - 1);

    return {
      scrollHeight: itemTop,
      start: startIndex,
      end: endIndex,
      // @ts-ignore
      offset: startOffset,
    };
  }, [inVirtual, useVirtual, scrollY, mergedData, heightUpdatedMark, height]);

  const listChildren = useChildren(
    mergedData,
    start,
    end,
    scrollX,
    setInstanceRef,
    children,
    sharedConfig,
  );

  return (
    <ResizeObserver onResize={onContainerResize}>
      <div
        className={cs('tg-scroll-view', className)}
        ref={containerRef}
        onTouchStart={_onScrollerTouchStart}
        onTouchEnd={_onScrollerTouchEnd}
        onTouchCancel={_onScrollerTouchEnd}
        onMouseDown={_onScrollerMouseDown}
        onMouseMove={_onScrollerMouseMove}
        onMouseUp={_onScrollerMouseUp}
        onMouseLeave={_onScrollerMouseUp}
      >
        {typeof renderHeader === 'function' ? (
          <div className="scroll-view-header">{renderHeader()}</div>
        ) : null}
        <div className={cs('scroll-view-content', { horizon: scrollingX && !scrollingY })}>
          {typeof renderRefresh === 'function' ? (
            <div
              className={cs('scroll-view-refresh', {
                refreshing: isRefreshing,
                'refresh-active': isRefreshActive,
              })}
            >
              {renderRefresh({ scrollTop: scrollY, isRefreshing, isRefreshActive })}
            </div>
          ) : null}
          <VirtualList
            ref={fillerInnerRef}
            height={scrollHeight}
            onInnerResize={collectHeight}
            offsetY={fillerOffset}
          >
            {listChildren}
          </VirtualList>
          {typeof renderMore === 'function' ? (
            <div
              className={cs('scroll-view-more', { active: isEndReachingStart || isEndReaching })}
            >
              {renderMore({ isEndReaching: isEndReachingStart || isEndReaching })}
            </div>
          ) : null}
        </div>
        {typeof renderFooter === 'function' ? (
          <div className="scroll-view-footer">{renderFooter()}</div>
        ) : null}
      </div>
    </ResizeObserver>
  );
}

export default forwardRef(TgScrollView);
`},45365:function(P,t){t.Z=`.tg-virtual-list-outer {}

.tg-virtual-list-inner {
  display: flex;
  flex-direction: column;
}
`},67092:function(P,t){t.Z=`import React, { forwardRef } from 'react';
import type { CSSProperties, Ref } from 'react';
import ResizeObserver from 'rc-resize-observer';
import type { SizeInfo } from 'rc-resize-observer';
import './index.less';

interface VirtualListProps {
  /** Virtual filler height. Should be \`count * itemMinHeight\` */
  height: number;
  /** Set offset of visible items. Should be the top of start item position */
  offsetY?: number;
  onInnerResize?: () => void;
  children: React.ReactNode;
}

function VirtualList(props: VirtualListProps, ref: Ref<HTMLDivElement>) {
  const { onInnerResize, offsetY, children, height } = props;

  let outerStyle: CSSProperties = {};
  let innerStyle: CSSProperties = {};

  if (offsetY !== undefined) {
    // Not set \`width\` since this will break \`sticky: right\`
    outerStyle = {
      height,
      position: 'relative',
      overflow: 'hidden',
    };

    innerStyle = {
      ...innerStyle,
      transform: \`translateY(\${offsetY}px)\`,
      // [rtl ? 'marginRight' : 'marginLeft']: -offsetX,
      position: 'absolute',
      left: 0,
      right: 0,
      top: 0,
    };
  }

  const onResize = ({ offsetHeight }: SizeInfo) => {
    if (offsetHeight && onInnerResize) {
      onInnerResize();
    }
  };

  return (
    <div className="tg-virtual-list-outer" style={outerStyle}>
      <ResizeObserver onResize={onResize}>
        <div ref={ref} className="tg-virtual-list-inner" style={innerStyle}>
          {children}
        </div>
      </ResizeObserver>
    </div>
  );
}

export default forwardRef(VirtualList);
`},56178:function(P,t){t.Z=`import { attachPropertiesToComponent } from './utils/attach-properties-to-component';
import TgScrollView from './components/scroll-view';
import Refresh from './components/refresh';
import More from './components/more';
export type { TgScrollViewProps, TgScrollViewRef } from './components/scroll-view'

export default attachPropertiesToComponent(TgScrollView, {
  Refresh,
  More,
});
`},83795:function(P,t){t.Z=`export function attachPropertiesToComponent<C, P extends Record<string, any>>(
  component: C,
  properties: P,
): C & P {
  const ret = component as any;
  for (const key in properties) {
    if (properties.hasOwnProperty(key)) {
      ret[key] = properties[key];
    }
  }
  return ret;
}
`}}]);
